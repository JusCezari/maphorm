!function(a){a.fn.maphorm=function(b){var c=a.extend({showMarker:!0,zoom:16,defaultLocation:{lat:26.12295,lng:-80.17122},location:!1,initialMarker:!1},b),d=this,e={init:function(){var a=c.defaultLocation;c.location?(a=c.location,e.drawMaps(a)):navigator.geolocation?navigator.geolocation.getCurrentPosition(e.transformPosition):e.drawMaps(a)},drawMaps:function(b){a(d).each(function(d,e){var f={center:new google.maps.LatLng(b),zoom:c.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP},g=new google.maps.Map(e,f),h="";d>0&&(h="-"+d),a(e).append('<input type="hidden" name="latitude'+h+'">'),a(e).append('<input type="hidden" name="longitude'+h+'">');var i;c.initialMarker&&(i=new google.maps.Marker({position:b,map:g,draggable:!1}),a('input[name="latitude'+h+'"]').val(b.lat),a('input[name="longitude'+h+'"]').val(b.lng)),google.maps.event.addListener(g,"click",function(b){i?i.setPosition(b.latLng):i=new google.maps.Marker({position:b.latLng,map:g,draggable:!1}),a('input[name="latitude'+h+'"]').val(b.latLng.lat()),a('input[name="longitude'+h+'"]').val(b.latLng.lng())})})},transformPosition:function(a){var b={lat:a.coords.latitude,lng:a.coords.longitude};e.drawMaps(b)}};e.init(this)}}(jQuery);