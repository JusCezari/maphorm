!function(a){a.fn.maphorm=function(b){var c,d=a.extend({showMarker:!0,zoom:16,defaultLocation:{lat:26.12295,lng:-80.17122},location:!1,initialMarker:!1,markerCleaner:!1},b),e=this,f=[],g={init:function(){var b=d.defaultLocation;d.location?(b=d.location,g.drawMaps(b)):navigator.geolocation?navigator.geolocation.getCurrentPosition(g.transformPosition):g.drawMaps(b),d.markerCleaner&&a(d.markerCleaner).click(function(a){g.clearMarkers()})},drawMaps:function(b){a(e).each(function(e,g){var h={center:new google.maps.LatLng(b),zoom:d.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP};c=new google.maps.Map(g,h);var i="";e>0&&(i="-"+e),a(g).append('<input type="hidden" name="latitude'+i+'">'),a(g).append('<input type="hidden" name="longitude'+i+'">');var j;d.initialMarker&&(j=new google.maps.Marker({position:b,map:c,draggable:!1}),f.push(j),a('input[name="latitude'+i+'"]').val(b.lat),a('input[name="longitude'+i+'"]').val(b.lng)),google.maps.event.addListener(c,"click",function(b){j?(j.setMap(c),j.setPosition(b.latLng)):(j=new google.maps.Marker({position:b.latLng,map:c,draggable:!1}),f.push(j)),a('input[name="latitude'+i+'"]').val(b.latLng.lat()),a('input[name="longitude'+i+'"]').val(b.latLng.lng())})})},transformPosition:function(a){var b={lat:a.coords.latitude,lng:a.coords.longitude};g.drawMaps(b)},clearMarkers:function(){for(var a=0;a<f.length;a++)f[a].setMap(null)}};g.init(this)}}(jQuery);